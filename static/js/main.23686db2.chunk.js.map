{"version":3,"sources":["store/game.js","helpers/snakeToCamel.js","firebase.js","firebase/game.js","helpers/getUserId.js","assets/click-icon.svg","firebase/gameCodes.js","helpers/getSixLetterCode.js","components/MainInput/index.js","screens/Home/index.js","helpers/chunkArray.js","helpers/matrixRotate.js","helpers/getNextPlayerUid.js","components/Tooltip/index.js","helpers/checkWin.js","assets/rotate-left-svgrepo-com.svg","assets/rotate-right-svgrepo-com.svg","assets/remove-icon.svg","modules/GameBlock/index.js","modules/StartBlock/index.js","modules/Header/index.js","screens/Game/index.js","App.js","index.js"],"names":["GameStore","gameRoomClosed","bannedPlayersUidList","currentPlayerUid","playersList","midgamePlayerUidList","ongoingGame","gameStage","gameBoard","winnerRow","hostUid","isHost","isStartModalOpen","isWaitStart","uuid","getUserId","makeAutoObservable","this","value","gameData","navigate","convertedData","Object","entries","reduce","acc","key","replace","m","chr","toUpperCase","forEach","userExists","element","uid","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","setGameRoomData","gameId","values","setDoc","doc","getGameRoomData","id","getDoc","onSnapshotGame","func","onSnapshot","updateGameRoomData","updateDoc","addPlayer","players_list","arrayUnion","removePlayer","arrayRemove","banPlayer","banned_player_uid","deleteGameRoom","deleteDoc","startGame","newCurrentPlayerUid","points","i","pointIdx","matrix","y","push","ongoing_game","current_player_uid","game_stage","game_board","winner_row","reset","setPoint","pointId","color","rotateBlock","playerWin","winnerUid","window","localStorage","getItem","setItem","uuidv4","_path","getGameCodes","updateGameCodesById","codes","setGameCodes","getSixLetterCode","code","alphabet","Math","floor","random","MainInput","label","btnText","maxLength","onChange","onClick","className","type","event","eventValue","target","htmlFor","HomePage","observer","setGameId","useState","setCode","useEffect","useNavigate","handleClickCreateGame","codeArr","codesDoc","exists","data","indexOf","host_uid","banned_players_uid_list","midgame_player_uid_list","game_room_closed","console","error","handleClickJoinToGame","React","document","querySelectorAll","button","innerHTML","textContent","trim","split","join","chunkArray","array","chunkSize","newArray","chunk","slice","rotateCounterClockwise","a","n","j","tmp","rotateClockwise","getNextPlayerUid","playerUid","index","findIndex","item","Tooltip","children","text","position","tooltip","flow","checkHorizontally","counter","checkVertically","checkIncreasingDiagonally","checkDecreasingDiagonally","checkWin","colors","board","colorMatrix","chunkedBoard","block","matrixY","boardY","boardX","boardIndex","matrixX","getColorMatrix","checkList","isWin","_excluded","_extends","assign","bind","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClickIcon","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","d","ForwardRef","SvgRotateLeftSvgrepoCom","fill","width","height","SvgRotateRightSvgrepoCom","SvgRemoveIcon","GameBlock","currentPlayerColor","gameStore","find","handleClick","point","handleClickReset","handleRotate","right","blockIndex","newRotatedMatrix","nextPlayerUid","currentPlayerIndex","win","map","flat","winner","player","pointIndex","includes","StartBlock","handleBan","filter","handleOut","arr","sourceElement","setPlayersList","list","handleDragStart","style","opacity","dataTransfer","effectAllowed","handleDragOver","preventDefault","dropEffect","handleDragEnter","classList","add","handleDragLeave","remove","handleDrop","stopPropagation","toString","removed","insertAt","Number","tempList","concat","log","newList","handleDragEnd","handleClickStart","handleClickDelete","handleClickLeave","draggable","onDragStart","onDragOver","onDragEnter","onDragLeave","onDrop","onDragEnd","username","Header","StartModal","lazy","GamePage","useParams","checkIfGameExists","useCallback","unsubscribe","setGameData","fallback","isOpen","handleClose","setIsStartModalOpen","NotFoundPage","App","Home","path","Game","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.23686db2.chunk.js","sourcesContent":["import { makeAutoObservable } from \"mobx\";\n\nimport { snakeToCamel } from \"../helpers/snakeToCamel\";\nimport { getUserId } from \"../helpers/getUserId\";\n\nclass GameStore {\n  gameRoomClosed = false;\n  bannedPlayersUidList = [];\n  currentPlayerUid = null;\n  playersList = [];\n  midgamePlayerUidList = [];\n  ongoingGame = false;\n  gameStage = \"click\";\n\n  gameBoard = {};\n  winnerRow = [];\n\n  hostUid = null;\n  isHost = false;\n\n  isStartModalOpen = false;\n  isWaitStart = false;\n\n  uuid = getUserId();\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  setIsStartModalOpen(value) {\n    this.isStartModalOpen = value;\n  }\n\n  setGameData(gameData, navigate) {\n    const convertedData = Object.entries(gameData).reduce(\n      (acc, [key, value]) => {\n        const newKey = snakeToCamel(key);\n\n        acc[newKey] = value;\n\n        return acc;\n      },\n      {}\n    );\n\n    Object.entries(convertedData).forEach(([key, value]) => {\n      // console.log(key);\n      this[key] = value;\n    });\n\n    // set isHost\n    this.isHost = this.hostUid === this.uuid;\n\n    // checkIfUserExists\n    let userExists = false;\n    this.playersList.forEach((element) => {\n      if (this.uuid === element.uid) {\n        userExists = true;\n      }\n    });\n    if (!userExists) {\n      this.isStartModalOpen = true;\n      this.isWaitStart = false;\n    } else if (this.playersList.length > 4) {\n      // \"There are too many players in this game\"\n      navigate(\"/\");\n    } else {\n      this.isWaitStart = true;\n    }\n  }\n}\n\nexport default new GameStore();\n","export function snakeToCamel(str) {\n  return str.replace(/[^a-zA-Z0-9]+(.)/g, (m, chr) => chr.toUpperCase());\n}\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAGZmJhikusrkvfc0pGZJkZ4_zTItpnyyY\",\r\n  authDomain: \"my-test-project-92507.firebaseapp.com\",\r\n  projectId: \"my-test-project-92507\",\r\n  storageBucket: \"my-test-project-92507.appspot.com\",\r\n  messagingSenderId: \"909817834075\",\r\n  appId: \"1:909817834075:web:76cbbb2ea960e361aded7e\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\n\r\nexport { db };\r\n","import {\n  doc,\n  setDoc,\n  getDoc,\n  onSnapshot,\n  updateDoc,\n  arrayUnion,\n  deleteDoc,\n  arrayRemove,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nexport const setGameRoomData = ({ gameId, values }) =>\n  setDoc(doc(db, `game_rooms_five_in_a_row/${gameId}`), values);\n\nexport const getGameRoomData = (id) =>\n  getDoc(doc(db, \"game_rooms_five_in_a_row\", id));\n\nexport const onSnapshotGame = (id, func) =>\n  onSnapshot(doc(db, \"game_rooms_five_in_a_row\", id), func);\n\nexport const updateGameRoomData = (gameId, values) =>\n  updateDoc(doc(db, `game_rooms_five_in_a_row/${gameId}`), values);\n\nexport const addPlayer = (gameId, values) =>\n  updateDoc(doc(db, `game_rooms_five_in_a_row/${gameId}`), {\n    players_list: arrayUnion(values),\n  });\n\nexport const removePlayer = (id, values) =>\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    players_list: arrayRemove(values),\n  });\n\nexport const banPlayer = (id, banned_player_uid, players_list) =>\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    banned_player_uid: arrayUnion(banned_player_uid),\n    players_list: players_list,\n  });\n\nexport const deleteGameRoom = (id) =>\n  deleteDoc(doc(db, \"game_rooms_five_in_a_row\", id));\n\nexport const startGame = (id, newCurrentPlayerUid) => {\n  const points = {};\n  const gameBoard = {};\n\n  for (let i = 0, pointIdx = 0; i < 9; i++) {\n    const matrix = [];\n\n    for (let y = 0; y < 9; y++) {\n      matrix.push(`point-${pointIdx}`);\n\n      points[`point-${pointIdx}`] = 0;\n      pointIdx++;\n    }\n\n    gameBoard[i] = matrix;\n  }\n\n  return updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    ongoing_game: true,\n    current_player_uid: newCurrentPlayerUid,\n    game_stage: \"click\",\n    game_board: gameBoard,\n    winner_row: [],\n    points,\n  });\n};\n\nexport const reset = (id, currentPlayerUid) => {\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    current_player_uid: currentPlayerUid,\n    ongoing_game: false,\n    game_board: {},\n    points: {},\n    game_stage: \"click\",\n    winner_row: [],\n  });\n};\n\nexport const setPoint = (id, pointId, color, points) => {\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    points: { ...points, [pointId]: color },\n    game_stage: \"rotate\",\n  });\n};\n\nexport const rotateBlock = (id, newCurrentPlayerUid, gameBoard) => {\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    current_player_uid: newCurrentPlayerUid,\n    game_stage: \"click\",\n    game_board: gameBoard,\n  });\n};\n\nexport const playerWin = (id, gameBoard, winnerUid, winnerRow) => {\n  updateDoc(doc(db, \"game_rooms_five_in_a_row\", id), {\n    game_stage: \"\",\n    game_board: gameBoard,\n    winner_row: winnerRow,\n    current_player_uid: winnerUid,\n  });\n};\n","import { v4 as uuidv4 } from \"uuid\";\n\nconst isUserNew = () => !window.localStorage.getItem(\"uuid\");\n\nconst generateUserId = () => {\n  window.localStorage.setItem(\"uuid\", uuidv4());\n  return window.localStorage.getItem(\"uuid\");\n};\n\nexport const getUserId = () => {\n  if (isUserNew()) {\n    return generateUserId();\n  } else {\n    return window.localStorage.getItem(\"uuid\");\n  }\n};\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgClickIcon(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 83.62 122.88\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40.59,14.63a3.36,3.36,0,0,1-1,2.39l0,0a3.39,3.39,0,0,1-4.77,0,3.42,3.42,0,0,1-1-2.4V3.39A3.4,3.4,0,0,1,37.2,0a3.34,3.34,0,0,1,2.39,1,3.39,3.39,0,0,1,1,2.4V14.63Zm25,76.65a1.89,1.89,0,0,1,3.77,0V99.9a1.89,1.89,0,1,1-3.77,0V91.28ZM54.46,87.47a1.89,1.89,0,0,1,3.77,0V99.9a1.89,1.89,0,1,1-3.77,0V87.47Zm-28-7.63a1.92,1.92,0,0,1-.35-.23q-5.24-4.24-10.44-8.53a8.36,8.36,0,0,0-3.57-1.79,3.54,3.54,0,0,0-2,.09A2,2,0,0,0,9,70.49a6.9,6.9,0,0,0-.4,3.24,12.47,12.47,0,0,0,1.11,4,26.49,26.49,0,0,0,2.92,4.94l17.68,26.74a2.37,2.37,0,0,1,.36,1,15.28,15.28,0,0,0,1.87,6.4,2.89,2.89,0,0,0,2.57,1.46c9,0,18.62-.34,27.53,0a8.33,8.33,0,0,0,4.69-1.51,15,15,0,0,0,4.29-5l.34-.57c3.4-5.87,6.71-11.57,7-18.33L78.85,85l0-.33,0-1.84c.06-5.74.16-14.54-4.62-15.4H71.14c.09,2.46,0,5-.18,7.3-.08,1.36-.15,2.63-.15,3.79a2.31,2.31,0,1,1-4.62,0c0-1.1.08-2.52.17-4,.32-5.73.75-13.38-3.24-14.14h-3a2.2,2.2,0,0,1-.58-.07,69.07,69.07,0,0,1-.13,8.29c-.07,1.36-.15,2.63-.15,3.79a2.31,2.31,0,1,1-4.61,0c0-1.1.08-2.52.16-4,.33-5.73.76-13.38-3.24-14.14h-3a2,2,0,0,1-.6-.08V66a2.31,2.31,0,1,1-4.61,0V42c0-4-1.64-6.55-3.73-7.61a5.32,5.32,0,0,0-4.71-.06l-.1.06c-2.07,1-3.69,3.59-3.69,7.7v42a2.31,2.31,0,1,1-4.62,0V79.84Zm44.14-17a2.49,2.49,0,0,1,.61-.08h3.19a2.33,2.33,0,0,1,.53.06c8.73,1.4,8.61,12.65,8.52,20,0,3.4.14,6.78.18,10.17-.39,7.91-4,14.1-7.67,20.47l-.32.55A19.49,19.49,0,0,1,70,120.55a12.88,12.88,0,0,1-7.29,2.32H35.17a7.23,7.23,0,0,1-6.44-3.5,19,19,0,0,1-2.56-7.88L8.94,85.42A31,31,0,0,1,5.5,79.58,16.88,16.88,0,0,1,4,74a11.42,11.42,0,0,1,.8-5.42,6.54,6.54,0,0,1,3.55-3.49A8.05,8.05,0,0,1,13,64.76a13.19,13.19,0,0,1,5.61,2.77L26.45,74V42.09c0-6.1,2.73-10,6.22-11.82l.15-.06a9.81,9.81,0,0,1,4.33-1,10,10,0,0,1,4.49,1.07C45.16,32.06,47.91,36,47.91,42v7.6a2.41,2.41,0,0,1,.6-.08H51.7a2.33,2.33,0,0,1,.53.06c3.82.61,5.73,3.16,6.63,6.47a2.25,2.25,0,0,1,1.23-.36h3.18a2.26,2.26,0,0,1,.53.06c4.07.65,6,3.49,6.79,7.11ZM14.63,37A3.33,3.33,0,0,1,17,38a3.39,3.39,0,0,1-2.39,5.79H3.39a3.36,3.36,0,0,1-2.39-1A3.4,3.4,0,0,1,3.39,37ZM23,20.55a3.39,3.39,0,0,1-2.4,5.79,3.4,3.4,0,0,1-2.4-1l-7.91-7.94a3.42,3.42,0,0,1-1-2.4,3.39,3.39,0,0,1,5.79-2.4L23,20.55ZM59.2,43.81a3.41,3.41,0,0,1-3.4-3.4A3.41,3.41,0,0,1,59.2,37H70.43a3.35,3.35,0,0,1,2.4,1,3.4,3.4,0,0,1-2.4,5.79ZM55.62,24.74a3.39,3.39,0,0,1-4.8-4.8l7.91-8a3.39,3.39,0,0,1,4.8,4.8l-7.91,8Z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClickIcon);\nexport default __webpack_public_path__ + \"static/media/click-icon.142f101d.svg\";\nexport { ForwardRef as ReactComponent };","import {\n  doc,\n  updateDoc,\n  setDoc,\n  getDoc,\n  arrayRemove,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nexport const getGameCodes = () =>\n  getDoc(doc(db, \"game_room_codes_five_in_a_row\", \"code_array\"));\n\nexport const updateGameCodes = (values) =>\n  updateDoc(doc(db, \"game_room_codes_five_in_a_row/code_array\"), values);\n\nexport const updateGameCodesById = (id) =>\n  updateDoc(doc(db, \"game_room_codes_five_in_a_row\", \"code_array\"), {\n    codes: arrayRemove(id),\n  });\n\nexport const setGameCodes = (values) =>\n  setDoc(doc(db, \"game_room_codes_five_in_a_row/code_array\"), values);\n","export const getSixLetterCode = () => {\n  let code = \"\";\n  const alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n  while (code.length < 6) {\n    code += alphabet[Math.floor(Math.random() * alphabet.length)];\n  }\n  return code;\n};\n","import React from \"react\";\n\nimport \"./style.scss\";\n\nconst MainInput = ({ label, btnText, value, maxLength, onChange, onClick }) => {\n  const handleChange = (event) => {\n    const { value: eventValue } = event.target;\n    onChange(eventValue);\n  };\n\n  return (\n    <div className=\"main_input\">\n      <input\n        id=\"register\"\n        type=\"text\"\n        maxLength={maxLength}\n        value={value}\n        onChange={handleChange}\n      />\n      <label htmlFor=\"register\">\n        <span>{label}</span>\n      </label>\n      <button className=\"button smoke dark\" onClick={onClick}>\n        {btnText}\n      </button>\n    </div>\n  );\n};\n\nexport default MainInput;\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { observer } from \"mobx-react-lite\";\n\nimport {\n  setGameCodes,\n  updateGameCodes,\n  getGameCodes,\n} from \"../../firebase/gameCodes\";\nimport { setGameRoomData } from \"../../firebase/game\";\nimport { getUserId } from \"../../helpers/getUserId\";\nimport { getSixLetterCode } from \"../../helpers/getSixLetterCode\";\nimport MainInput from \"../../components/MainInput\";\n\nimport \"./style.scss\";\n\nconst HomePage = observer(({ gameId, setGameId }) => {\n  const [code, setCode] = useState(\"\");\n\n  useEffect(() => {\n    setGameId(getSixLetterCode());\n  }, [setGameId]);\n\n  const navigate = useNavigate();\n  const uuid = getUserId();\n\n  const handleClickCreateGame = async () => {\n    try {\n      let codeArr = [];\n      const codesDoc = await getGameCodes();\n\n      if (codesDoc.exists()) {\n        codesDoc.data().codes.forEach((element) => {\n          codeArr.push(element);\n        });\n        while (codeArr.indexOf(gameId) !== -1) {\n          setGameId(getSixLetterCode());\n        }\n        codeArr.push(gameId);\n        await updateGameCodes({\n          codes: codeArr,\n        });\n      } else {\n        codeArr.push(gameId);\n        await setGameCodes({\n          codes: codeArr,\n        });\n      }\n\n      await setGameRoomData({\n        gameId,\n        values: {\n          host_uid: uuid,\n          players_list: [],\n          banned_players_uid_list: [],\n          midgame_player_uid_list: [],\n          current_player_uid: uuid,\n          game_room_closed: false,\n          ongoing_game: false,\n          game_board: {},\n          game_stage: \"click\",\n        },\n      });\n\n      navigate(`/game/${gameId}`);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  const handleClickJoinToGame = async () => {\n    if (code !== \"\") {\n      const codesDoc = await getGameCodes();\n\n      if (codesDoc.data().codes.indexOf(code) !== -1) {\n        navigate(`/game/${code}`);\n      } else {\n        // setToast({\n        //   type: \"danger\",\n        //   text: \"Please enter a valid code\",\n        // });\n      }\n    } else {\n      // setToast({\n      //   type: \"danger\",\n      //   text: \"Please enter a code\",\n      // });\n    }\n  };\n\n  const handleChange = (value) => {\n    setCode(value.toUpperCase());\n  };\n\n  React.useEffect(() => {\n    document\n      .querySelectorAll(\".button\")\n      .forEach(\n        (button) =>\n          (button.innerHTML =\n            \"<div><span>\" +\n            button.textContent.trim().split(\"\").join(\"</span><span>\") +\n            \"</span></div>\")\n      );\n  }, []);\n\n  return (\n    <div className=\"home_page\">\n      <div className=\"title\">FIVE IN A ROW</div>\n\n      <div className=\"input_block\">\n        <button\n          className=\"create_btn button smoke dark\"\n          onClick={handleClickCreateGame}\n        >\n          Create Game\n        </button>\n\n        <MainInput\n          label=\"Enter Game Code\"\n          btnText=\"Join\"\n          maxLength={6}\n          value={code}\n          onChange={handleChange}\n          onClick={handleClickJoinToGame}\n        />\n      </div>\n    </div>\n  );\n});\n\nexport default HomePage;\n","export const chunkArray = (array, chunkSize) => {\n  const newArray = [];\n\n  for (let i = 0; i < array.length; i += chunkSize) {\n    const chunk = array.slice(i, i + chunkSize);\n\n    newArray.push(chunk);\n  }\n\n  return newArray;\n};\n","export const rotateCounterClockwise = (a) => {\n  const n = a.length;\n  for (let i = 0; i < n / 2; i++) {\n    for (let j = i; j < n - i - 1; j++) {\n      const tmp = a[i][j];\n      a[i][j] = a[j][n - i - 1];\n      a[j][n - i - 1] = a[n - i - 1][n - j - 1];\n      a[n - i - 1][n - j - 1] = a[n - j - 1][i];\n      a[n - j - 1][i] = tmp;\n    }\n  }\n  return a;\n};\n\nexport const rotateClockwise = (a) => {\n  const n = a.length;\n  for (let i = 0; i < n / 2; i++) {\n    for (let j = i; j < n - i - 1; j++) {\n      const tmp = a[i][j];\n      a[i][j] = a[n - j - 1][i];\n      a[n - j - 1][i] = a[n - i - 1][n - j - 1];\n      a[n - i - 1][n - j - 1] = a[j][n - i - 1];\n      a[j][n - i - 1] = tmp;\n    }\n  }\n  return a;\n};\n","export const getNextPlayerUid = (playersList, playerUid) => {\n  const index = playersList.findIndex((item) => item.uid === playerUid);\n\n  return index === playersList.length - 1\n    ? playersList[0].uid\n    : playersList[index + 1].uid;\n};\n","import React from \"react\";\n\nimport \"./style.scss\";\n\nconst Tooltip = ({ children, text = \"\", position = \"down\" }) => {\n  return (\n    <div tooltip={text} flow={position}>\n      {children}\n    </div>\n  );\n};\n\nexport default Tooltip;\n","import { chunkArray } from \"./chunkArray\";\n\nconst getColorMatrix = (board) => {\n  const chunkedBoard = {};\n\n  Object.values(board).forEach((block, index) => {\n    chunkedBoard[index] = chunkArray(block, 3);\n  });\n\n  const matrix = [[], [], [], [], [], [], [], [], []];\n\n  for (\n    let matrixY = 0, boardY = 0, boardX = 0, boardIndex = 0;\n    matrixY < 9;\n    matrixY++\n  ) {\n    for (let matrixX = 0; matrixX < 9; matrixX++) {\n      matrix[matrixY].push(chunkedBoard[boardIndex][boardY][boardX]);\n\n      if (boardX === 2) {\n        boardX = 0;\n        boardIndex++;\n      } else boardX++;\n    }\n\n    if (boardY === 2) boardY = 0;\n    else boardY++;\n\n    if (matrixY < 2) boardIndex = 0;\n    else if (matrixY < 5) boardIndex = 3;\n    else boardIndex = 6;\n  }\n\n  return matrix;\n};\n\nconst checkHorizontally = (color, matrix, points) => {\n  for (let i = 0, counter = []; i < 9; i++) {\n    for (let y = 0; y < 9; y++) {\n      if (points[matrix[i][y]] === color) counter.push(matrix[y][i]);\n      else counter = [];\n\n      if (counter.length === 5) return { color, points: counter };\n    }\n\n    counter = [];\n  }\n\n  return false;\n};\n\nconst checkVertically = (color, matrix, points) => {\n  for (let i = 0, counter = []; i < 9; i++) {\n    for (let y = 0; y < 9; y++) {\n      if (points[matrix[y][i]] === color) counter.push(matrix[y][i]);\n      else counter = [];\n\n      if (counter.length === 5) return { color, points: counter };\n    }\n\n    counter = [];\n  }\n\n  return false;\n};\n\nconst checkIncreasingDiagonally = (color, matrix, points) => {\n  for (let i = 4; i < 9; i++) {\n    for (let y = 0; y < 5; y++) {\n      if (\n        points[matrix[y][i]] === color &&\n        points[matrix[y + 1][i - 1]] === color &&\n        points[matrix[y + 2][i - 2]] === color &&\n        points[matrix[y + 3][i - 3]] === color &&\n        points[matrix[y + 4][i - 4]] === color\n      ) {\n        return {\n          color,\n          points: [\n            matrix[y][i],\n            matrix[y + 1][i - 1],\n            matrix[y + 2][i - 2],\n            matrix[y + 3][i - 3],\n            matrix[y + 4][i - 4],\n          ],\n        };\n      }\n    }\n  }\n\n  return false;\n};\n\nconst checkDecreasingDiagonally = (color, matrix, points) => {\n  for (let i = 0; i < 5; i++) {\n    for (let y = 0; y < 5; y++) {\n      if (\n        points[matrix[y][i]] === color &&\n        points[matrix[y + 1][i + 1]] === color &&\n        points[matrix[y + 2][i + 2]] === color &&\n        points[matrix[y + 3][i + 3]] === color &&\n        points[matrix[y + 4][i + 4]] === color\n      ) {\n        return {\n          color,\n          points: [\n            matrix[y][i],\n            matrix[y + 1][i + 1],\n            matrix[y + 2][i + 2],\n            matrix[y + 3][i + 3],\n            matrix[y + 4][i + 4],\n          ],\n        };\n      }\n    }\n  }\n\n  return false;\n};\n\nexport const checkWin = (colors, board, points) => {\n  const colorMatrix = getColorMatrix(board, points);\n\n  const checkList = [\n    checkHorizontally,\n    checkVertically,\n    checkDecreasingDiagonally,\n    checkIncreasingDiagonally,\n  ];\n\n  for (let color of colors) {\n    for (let func of checkList) {\n      const isWin = func(color, colorMatrix, points);\n\n      if (isWin) return isWin;\n    }\n  }\n\n  return false;\n};\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgRotateLeftSvgrepoCom(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 56 56\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 37.3280 14.5587 C 38.7343 15.6134 40.1874 15.1915 40.1874 13.3399 L 40.1874 10.1290 L 40.2578 10.1290 C 45.3437 10.1290 48.5545 13.6446 48.5545 18.6603 C 48.5545 21.7774 47.5936 22.9493 47.5235 23.7930 C 47.5000 24.4493 47.7342 24.8477 48.2732 25.1056 C 49.0000 25.4571 49.8438 25.1290 50.2422 24.4493 C 50.9689 23.2071 51.4844 21.1446 51.4844 18.6368 C 51.4844 11.9337 47.0080 7.4103 40.2812 7.4103 L 40.1874 7.4103 L 40.1874 3.9649 C 40.1874 2.0665 38.7578 1.6444 37.3280 2.7227 L 30.9296 7.4103 C 29.8515 8.2071 29.8515 9.1212 30.9296 9.8946 Z M 10.5390 54.3556 L 33.7656 54.3556 C 37.7734 54.3556 39.7890 52.4337 39.7890 48.3321 L 39.7890 25.1524 C 39.7890 21.0508 37.7734 19.1290 33.7656 19.1290 L 10.5390 19.1290 C 6.5312 19.1290 4.5156 21.0508 4.5156 25.1524 L 4.5156 48.3321 C 4.5156 52.4337 6.5312 54.3556 10.5390 54.3556 Z M 10.6093 50.5821 C 9.0156 50.5821 8.2890 49.9259 8.2890 48.2618 L 8.2890 25.2227 C 8.2890 23.5587 9.0156 22.9024 10.6093 22.9024 L 33.6952 22.9024 C 35.3124 22.9024 36.0156 23.5587 36.0156 25.2227 L 36.0156 48.2618 C 36.0156 49.9259 35.3124 50.5821 33.6952 50.5821 Z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRotateLeftSvgrepoCom);\nexport default __webpack_public_path__ + \"static/media/rotate-left-svgrepo-com.2042d75a.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgRotateRightSvgrepoCom(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    width: \"800px\",\n    height: \"800px\",\n    viewBox: \"0 0 56 56\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 7.7265 25.1056 C 8.2656 24.8477 8.5000 24.4493 8.4765 23.7930 C 8.4062 22.9493 7.4452 21.7774 7.4452 18.6603 C 7.4452 13.6446 10.6796 10.1290 15.7421 10.1290 L 15.8124 10.1290 L 15.8124 13.3399 C 15.8124 15.1915 17.2656 15.6134 18.6718 14.5587 L 25.0702 9.8946 C 26.1484 9.1212 26.1484 8.2071 25.0702 7.4103 L 18.6718 2.7227 C 17.2421 1.6444 15.8124 2.0665 15.8124 3.9649 L 15.8124 7.4103 L 15.7187 7.4103 C 8.9921 7.4103 4.5156 11.9337 4.5156 18.6368 C 4.5156 21.1446 5.0312 23.2071 5.7578 24.4493 C 6.1562 25.1290 7.0000 25.4571 7.7265 25.1056 Z M 45.4609 54.3556 C 49.4689 54.3556 51.4844 52.4337 51.4844 48.3321 L 51.4844 25.1524 C 51.4844 21.0508 49.4689 19.1290 45.4609 19.1290 L 22.2343 19.1290 C 18.2265 19.1290 16.2109 21.0508 16.2109 25.1524 L 16.2109 48.3321 C 16.2109 52.4337 18.2265 54.3556 22.2343 54.3556 Z M 45.3905 50.5821 L 22.3046 50.5821 C 20.6874 50.5821 19.9843 49.9259 19.9843 48.2618 L 19.9843 25.2227 C 19.9843 23.5587 20.6874 22.9024 22.3046 22.9024 L 45.3905 22.9024 C 47.0080 22.9024 47.7107 23.5587 47.7107 25.2227 L 47.7107 48.2618 C 47.7107 49.9259 47.0080 50.5821 45.3905 50.5821 Z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRotateRightSvgrepoCom);\nexport default __webpack_public_path__ + \"static/media/rotate-right-svgrepo-com.6c033b2a.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgRemoveIcon(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 122.87 122.87\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18,18A61.45,61.45,0,1,1,0,61.44,61.28,61.28,0,0,1,18,18ZM77.38,39l6.53,6.54a4,4,0,0,1,0,5.63L73.6,61.44,83.91,71.75a4,4,0,0,1,0,5.63l-6.53,6.53a4,4,0,0,1-5.63,0L61.44,73.6,51.13,83.91a4,4,0,0,1-5.63,0L39,77.38a4,4,0,0,1,0-5.63L49.28,61.44,39,51.13a4,4,0,0,1,0-5.63L45.5,39a4,4,0,0,1,5.63,0L61.44,49.28,71.75,39a4,4,0,0,1,5.63,0ZM61.44,10.54a50.91,50.91,0,1,0,36,14.91,50.83,50.83,0,0,0-36-14.91Z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveIcon);\nexport default __webpack_public_path__ + \"static/media/remove-icon.dfc740f3.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\n\nimport \"./style.scss\";\n\nimport gameStore from \"../../store/game\";\nimport { reset, setPoint, rotateBlock, playerWin } from \"../../firebase/game\";\nimport { chunkArray } from \"../../helpers/chunkArray\";\nimport {\n  rotateClockwise,\n  rotateCounterClockwise,\n} from \"../../helpers/matrixRotate\";\nimport { getNextPlayerUid } from \"../../helpers/getNextPlayerUid\";\nimport Tooltip from \"../../components/Tooltip\";\nimport { checkWin } from \"../../helpers/checkWin\";\n\nimport { ReactComponent as ClickSvg } from \"../../assets/click-icon.svg\";\nimport { ReactComponent as RotateSvg } from \"../../assets/rotate-left-svgrepo-com.svg\";\nimport { ReactComponent as RotateRightSvg } from \"../../assets/rotate-right-svgrepo-com.svg\";\nimport { ReactComponent as ResetSvg } from \"../../assets/remove-icon.svg\";\n\nconst GameBlock = observer(({ id }) => {\n  const currentPlayerColor = gameStore.playersList.find(\n    (item) => item.uid === gameStore.currentPlayerUid\n  ).color;\n\n  const handleClick = async ({ point }) => {\n    if (\n      gameStore.points[point] === 0 &&\n      gameStore.currentPlayerUid === gameStore.uuid &&\n      gameStore.gameStage === \"click\"\n    ) {\n      await setPoint(id, point, currentPlayerColor, gameStore.points);\n    }\n  };\n\n  const handleClickReset = async () => {\n    await reset(id, gameStore.playersList[0].uid);\n  };\n\n  const handleRotate = async (right, block, blockIndex) => {\n    const matrix = chunkArray(block, 3);\n\n    let newRotatedMatrix = [];\n\n    if (right) {\n      newRotatedMatrix = rotateClockwise(matrix);\n    } else {\n      newRotatedMatrix = rotateCounterClockwise(matrix);\n    }\n\n    const nextPlayerUid = getNextPlayerUid(\n      gameStore.playersList,\n      gameStore.currentPlayerUid\n    );\n\n    const currentPlayerIndex = gameStore.playersList.findIndex(\n      (item) => item.uid === gameStore.currentPlayerUid\n    );\n\n    const win = checkWin(\n      [\n        ...gameStore.playersList.slice(currentPlayerIndex),\n        ...gameStore.playersList.slice(0, currentPlayerIndex),\n      ].map((item) => item.color),\n      {\n        ...gameStore.gameBoard,\n        [blockIndex]: newRotatedMatrix.flat(),\n      },\n      gameStore.points\n    );\n\n    if (win) {\n      const winner = gameStore.playersList.find(\n        (player) => player.color === win.color\n      );\n\n      await playerWin(\n        id,\n        {\n          ...gameStore.gameBoard,\n          [blockIndex]: newRotatedMatrix.flat(),\n        },\n        winner.uid,\n        win.points\n      );\n    } else {\n      await rotateBlock(id, nextPlayerUid, {\n        ...gameStore.gameBoard,\n        [blockIndex]: newRotatedMatrix.flat(),\n      });\n    }\n  };\n\n  return (\n    <div className={`game_block ${currentPlayerColor}`}>\n      <div className=\"game_board\">\n        {Object.values(gameStore.gameBoard).map((block, blockIndex) => (\n          <div key={`matrix-${blockIndex}`} className=\"block\">\n            {block.map((point, pointIndex) => (\n              <div\n                key={`point-${pointIndex}`}\n                className={`point ${\n                  gameStore.points[point] !== 0 ? gameStore.points[point] : \"\"\n                } ${\n                  gameStore.currentPlayerUid === gameStore.uuid &&\n                  gameStore.gameStage === \"click\"\n                    ? \"\"\n                    : \"without\"\n                } ${gameStore.winnerRow.includes(point) ? \"win_point\" : \"\"}`}\n                onClick={() => handleClick({ point })}\n              />\n            ))}\n\n            {gameStore.gameStage === \"rotate\" && (\n              <div className=\"rotate_block\">\n                <div\n                  className=\"rotate_btn\"\n                  onClick={() => handleRotate(0, block, blockIndex)}\n                >\n                  <RotateSvg />\n                </div>\n                <div\n                  className=\"rotate_btn\"\n                  onClick={() => handleRotate(1, block, blockIndex)}\n                >\n                  <RotateRightSvg />\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"info_block\">\n        <ClickSvg\n          className={`click_btn ${gameStore.gameStage === \"click\" ? \"on\" : \"\"}`}\n        />\n        <RotateSvg\n          className={`rotate_btn ${\n            gameStore.gameStage === \"rotate\" ? \"on\" : \"\"\n          }`}\n        />\n        {gameStore.isHost && gameStore.ongoingGame && (\n          <Tooltip text=\"RESET GAME\">\n            <ResetSvg className=\"reset_btn\" onClick={handleClickReset} />\n          </Tooltip>\n        )}\n      </div>\n    </div>\n  );\n});\n\nexport default GameBlock;\n","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport \"./style.scss\";\n\nimport gameStore from \"../../store/game\";\nimport {\n  banPlayer,\n  deleteGameRoom,\n  removePlayer,\n  startGame,\n  updateGameRoomData,\n} from \"../../firebase/game\";\nimport { updateGameCodesById } from \"../../firebase/gameCodes\";\n\nconst StartBlock = observer(({ id }) => {\n  const navigate = useNavigate();\n\n  const handleBan = async (uid) => {\n    await banPlayer(\n      id,\n      uid,\n      gameStore.playersList.filter((player) => player.uid !== uid)\n    );\n  };\n\n  const handleOut = async (uid) => {\n    const player = gameStore.playersList.find((arr) => arr.uid === uid);\n\n    await removePlayer(id, player);\n  };\n\n  let sourceElement = null;\n\n  const setPlayersList = async (list) => {\n    await updateGameRoomData(id, {\n      players_list: list,\n    });\n  };\n\n  const handleDragStart = (event) => {\n    event.target.style.opacity = 0.5;\n    sourceElement = event.target;\n    event.dataTransfer.effectAllowed = \"move\";\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = \"move\";\n  };\n\n  const handleDragEnter = (event) => {\n    event.target.classList.add(\"over\");\n  };\n\n  const handleDragLeave = (event) => {\n    event.target.classList.remove(\"over\");\n  };\n\n  const handleDrop = (event) => {\n    event.stopPropagation();\n\n    if (sourceElement !== event.target) {\n      const list = gameStore.playersList.filter(\n        (item, index) => index.toString() !== sourceElement.id\n      );\n\n      const removed = gameStore.playersList[sourceElement.id];\n\n      let insertAt = Number(event.target.id);\n\n      let tempList = [];\n\n      if (insertAt >= list.length) {\n        tempList = list.slice(0).concat(removed);\n        console.log({\n          tempList,\n          removed,\n          list,\n          playersList: gameStore.playersList,\n        });\n        setPlayersList(tempList);\n\n        event.target.classList.remove(\"over\");\n      } else if (insertAt < list.length) {\n        tempList = list.slice(0, insertAt).concat(removed);\n\n        const newList = tempList.concat(list.slice(insertAt));\n\n        setPlayersList(newList);\n        event.target.classList.remove(\"over\");\n      }\n    } else console.log(\"nothing happened\");\n    event.target.classList.remove(\"over\");\n  };\n\n  const handleDragEnd = (event) => {\n    event.target.style.opacity = 1;\n  };\n\n  const handleClickStart = async () => {\n    if (gameStore.playersList.length >= 2) {\n      await startGame(id, gameStore.playersList[0].uid);\n    } else {\n      // setToast({\n      //   type: \"danger\",\n      //   text: \"At least 2 players are required\",\n      // });\n    }\n  };\n\n  const handleClickDelete = async () => {\n    // await updateDoc(doc(db, \"game_rooms_poker\", id), {\n    //   game_room_closed: true,\n    // });\n    await deleteGameRoom(id);\n    await updateGameCodesById(id);\n\n    navigate(\"/\");\n  };\n\n  const handleClickLeave = async () => {\n    const player = gameStore.playersList.find(\n      (arr) => arr.uid === gameStore.uuid\n    );\n\n    await removePlayer(id, player);\n\n    navigate(\"/\");\n  };\n\n  return (\n    <div className=\"start_block\">\n      {gameStore.playersList.map((player, index) => (\n        <div\n          key={player?.uid}\n          className={`player_item ${gameStore.isHost ? \"dnd-list\" : \"\"} ${\n            player?.uid === gameStore.uuid ? \"current\" : \"\"\n          } ${player.color}`}\n          draggable={gameStore.isHost}\n          onDragStart={handleDragStart}\n          onDragOver={handleDragOver}\n          onDragEnter={handleDragEnter}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n          onDragEnd={handleDragEnd}\n          id={index}\n        >\n          <p>{player.username}</p>\n\n          {gameStore.isHost && player?.uid !== gameStore.uuid && (\n            <>\n              <button type=\"button\" onClick={() => handleBan(player?.uid)}>\n                Ban\n              </button>\n              <button type=\"button\" onClick={() => handleOut(player?.uid)}>\n                Out\n              </button>\n            </>\n          )}\n        </div>\n      ))}\n\n      {gameStore.isHost ? (\n        <div className=\"btn-block\">\n          <button onClick={handleClickDelete}>Delete Room</button>\n          <button onClick={handleClickStart}>Start Game</button>\n        </div>\n      ) : (\n        <div className=\"btn-block\">\n          <button onClick={handleClickLeave}>Leave</button>\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default StartBlock;\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport \"./style.scss\";\n\nimport gameStore from \"../../store/game\";\nimport { observer } from \"mobx-react-lite\";\nimport Tooltip from \"../../components/Tooltip\";\n\nconst Header = observer(() => {\n  const navigate = useNavigate();\n\n  const currentPlayerColor = gameStore.playersList.find(\n    (item) => item.uid === gameStore.currentPlayerUid\n  ).color;\n\n  return (\n    <div\n      className={`header_block ${\n        gameStore.ongoingGame ? currentPlayerColor : \"\"\n      }`}\n    >\n      <div className=\"title\" onClick={() => navigate(\"/\")}>\n        FIVE IN A ROW\n      </div>\n\n      {gameStore.ongoingGame && (\n        <div className=\"players_list\">\n          {gameStore.playersList.map((item) => (\n            <Tooltip key={item.color} text={item.username}>\n              <div className={`player_item ${item.color}`} />\n            </Tooltip>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default Header;\n","import React, { useCallback, useEffect, lazy, Suspense } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { observer } from \"mobx-react-lite\";\n\nimport \"./style.scss\";\n\nimport { getGameRoomData, onSnapshotGame } from \"../../firebase/game\";\nimport gameStore from \"../../store/game\";\nimport GameBlock from \"../../modules/GameBlock\";\nimport StartBlock from \"../../modules/StartBlock\";\nimport Header from \"../../modules/Header\";\n\nconst StartModal = lazy(() => import(\"../../modules/StartModal\"));\n\nconst GamePage = observer(() => {\n  let { id } = useParams();\n  id = id.toUpperCase();\n\n  const navigate = useNavigate();\n\n  const checkIfGameExists = useCallback(async () => {\n    const docSnap = await getGameRoomData(id);\n    if (!docSnap.exists()) {\n      navigate(\"/\");\n    }\n  }, [navigate, id]);\n\n  useEffect(() => {\n    checkIfGameExists();\n    const unsubscribe = onSnapshotGame(id, (doc) => {\n      gameStore.setGameData(doc.data(), navigate);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [checkIfGameExists, id, navigate]);\n\n  return (\n    <div className=\"game_page\">\n      {gameStore.isStartModalOpen && (\n        <Suspense fallback=\"loading\">\n          <StartModal\n            isOpen={gameStore.isStartModalOpen}\n            handleClose={() => gameStore.setIsStartModalOpen(false)}\n            id={id}\n          />\n        </Suspense>\n      )}\n\n      {gameStore.isWaitStart && <Header />}\n\n      {gameStore.isWaitStart &&\n        (gameStore.ongoingGame ? (\n          <GameBlock id={id} />\n        ) : (\n          <StartBlock id={id} />\n        ))}\n    </div>\n  );\n});\n\nexport default GamePage;\n","import React, { useState, lazy, Suspense } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\n\nimport HomePage from \"../src/screens/Home\";\nimport GamePage from \"../src/screens/Game\";\n\nconst NotFoundPage = lazy(() => import(\"./screens/NotFound\"));\n\nfunction App() {\n  const [gameId, setGameId] = useState(\"\");\n\n  return (\n    <Routes>\n      <Route\n        index\n        element={<HomePage gameId={gameId} setGameId={setGameId} />}\n      />\n      <Route path=\"/game/:id\" element={<GamePage />} />\n      <Route\n        path=\"*\"\n        element={\n          <Suspense fallback=\"Loading...\">\n            <NotFoundPage />\n          </Suspense>\n        }\n      />\n    </Routes>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import { BrowserRouter } from \"react-router-dom\";\nimport { HashRouter } from 'react-router-dom';\n\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <HashRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}